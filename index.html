<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Emiliia Lebedeva | Rhythmic Gymnast & Research Student</title>
  
  <meta name="description" content="Athletic and academic portfolio of Emiliia Lebedeva, Rhythmic Gymnast and Research Student.">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  
  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <link rel="shortcut icon" href="images/favicon.ico">
  <meta name="theme-color" content="#1d4ed8">
  
  <!-- Main Styles -->
  <style>
    /* CRITICAL CSS INLINED FOR 0ms FOUC */
    :root {
      --primary-color: #1d4ed8; /* blue-700 */
      --primary-hover: #1e40af; /* blue-800 */
      --accent-color: #f59e0b; /* amber-500 */
      --text-dark: #111827; /* gray-900 */
      --text-medium: #374151; /* gray-700 */
      --text-light: #6b7280; /* gray-500 */
      --bg-light: #f9fafb; /* gray-50 */
      --bg-darker: #f3f4f6; /* gray-100 */
      --white: #ffffff;
      --success: #16a34a; /* green-600 */
      --error: #ef4444; /* red-500 */
      --border-radius: 0.75rem; /* rounded-xl */
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    
    /* Reset & Base */
    *, *::before, *::after { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: var(--font-family);
      background-color: var(--bg-darker);
      color: var(--text-dark);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      /* Ensure body is hidden until styles are parsed if JS fails, though style tag blocks rendering */
    }
    img { max-width: 100%; height: auto; display: block; }
    h1, h2, h3, h4, h5, h6 { margin: 0; line-height: 1.2; }
    ul { list-style: none; padding: 0; margin: 0; }
    a { text-decoration: none; color: inherit; }
    
    /* Layout Utilities */
    .container { max-width: 80rem; margin: 0 auto; padding: 0 1rem; }
    .section { padding: 4rem 0; }
    .grid { display: grid; gap: 1.5rem; }
    .grid-2 { grid-template-columns: 1fr; }
    .grid-3 { grid-template-columns: 1fr; }
    .grid-4 { grid-template-columns: 1fr; }
    @media (min-width: 768px) {
      .grid-2 { grid-template-columns: 1fr 1fr; }
      .grid-3 { grid-template-columns: repeat(3, 1fr); }
      .grid-4 { grid-template-columns: repeat(2, 1fr); }
    }
    @media (min-width: 1024px) {
      .grid-4 { grid-template-columns: repeat(4, 1fr); }
    }
    .flex { display: flex; }
    .flex-col { flex-direction: column; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .justify-between { justify-content: space-between; }
    .gap-4 { gap: 1rem; }
    .gap-6 { gap: 1.5rem; }
    .gap-8 { gap: 2rem; }
    .gap-12 { gap: 3rem; }
    .text-center { text-align: center; }
    .text-light { color: var(--text-light); }
    .bg-light { background-color: var(--bg-light); }
    .mt-2 { margin-top: 0.5rem; }
    .mt-3 { margin-top: 0.75rem; }
    .mt-4 { margin-top: 1rem; }
    .mt-6 { margin-top: 1.5rem; }
    .mt-8 { margin-top: 2rem; }
    .mt-auto { margin-top: auto; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-3 { margin-bottom: 0.75rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-6 { margin-bottom: 1.5rem; }
    .mb-8 { margin-bottom: 2rem; }
    .mr-1 { margin-right: 0.25rem; }
    .mr-2 { margin-right: 0.5rem; }
    .mr-3 { margin-right: 0.75rem; }
    .w-full { width: 100%; }
    .rounded-xl { border-radius: var(--border-radius); }
    .shadow-md { box-shadow: var(--shadow); }
    .space-y-1 > * + * { margin-top: 0.25rem; }
    .space-y-4 > * + * { margin-top: 1rem; }
    
    /* Navigation */
    .navbar { background: var(--white); box-shadow: 0 1px 3px rgba(0,0,0,0.1); position: relative; z-index: 50; }
    .nav-container { display: flex; justify-content: space-between; align-items: center; padding: 1rem; max-width: 80rem; margin: 0 auto; }
    .nav-logo { font-size: 1.25rem; font-weight: 600; color: var(--text-dark); }
    .nav-toggle { display: block; background: none; border: none; font-size: 1.25rem; color: var(--text-light); cursor: pointer; }
    .nav-menu { display: none; gap: 1rem; }
    .nav-link { color: var(--text-light); padding: 0.75rem 0.5rem; border-radius: 0.375rem; transition: all 0.2s; }
    .nav-link:hover { color: var(--text-dark); background: var(--bg-light); }
    @media (min-width: 768px) { .nav-toggle { display: none; } .nav-menu { display: flex; } }
    
    /* Mobile Menu */
    .mobile-menu { display: none; position: absolute; top: 100%; left: 0; width: 100%; background: var(--white); border-top: 1px solid var(--bg-darker); box-shadow: var(--shadow); z-index: 49; flex-direction: column; padding: 0.5rem 1rem; }
    .mobile-menu.is-open { display: flex; }
    .mobile-link { display: block; padding: 0.75rem 0.5rem; color: var(--text-light); border-radius: 0.375rem; }
    .mobile-link:hover { color: var(--text-dark); background: var(--bg-light); }
    .mobile-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 40; }
    .mobile-overlay.is-open { display: block; }
    
    /* Hero Section */
    .hero { background: linear-gradient(to right, #dbeafe, var(--white)); padding: 4rem 1rem; }
    .hero-content { display: flex; flex-direction: column; gap: 2rem; }
    .hero h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; }
    .hero-subtitle { font-size: 1.25rem; color: var(--primary-color); font-weight: 600; margin-bottom: 1rem; }
    .hero-text { font-size: 1.125rem; color: var(--text-medium); margin-bottom: 2rem; }
    /* Updated BTN: Flex for perfect centering */
    .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; background: var(--primary-color); color: var(--white); padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; transition: background 0.2s; cursor: pointer; border: none; text-align: center; }
    .btn:hover { background: var(--primary-hover); }
    .btn:disabled { background: var(--text-light); cursor: not-allowed; }
    .hero-image img { border-radius: 0.75rem; box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1); width: 100%; }
    @media (min-width: 768px) {
      .hero-wrapper { display: flex; align-items: center; gap: 3rem; }
      /* Updated Hero Content: Centered vertically and horizontally relative to its column */
      .hero-content { flex: 1; align-items: center; text-align: center; justify-content: center; }
      .hero-image { flex: 1; }
    }
    
    /* Sections */
    .section-title { font-size: 1.875rem; font-weight: 700; margin-bottom: 2rem; display: flex; align-items: center; color: var(--text-dark); }
    .section-title.center { justify-content: center; }
    .section-title i { margin-right: 0.75rem; }
    
    /* About / Profile */
    .list-check { display: flex; flex-direction: column; gap: 1rem; }
    .list-check li { position: relative; }
    /* Ensure columns in About grid stretch to equal height */
    .about-col { display: flex; flex-direction: column; height: 100%; }
    .text-blue { color: var(--primary-color); }
    .text-amber { color: var(--accent-color); }
    .text-green { color: var(--success); }
    
    /* Cards */
    .card { background: var(--white); padding: 1.5rem; border-radius: var(--border-radius); box-shadow: var(--shadow); height: 100%; }
    .card-title { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.75rem; display: flex; align-items: center; color: var(--text-dark); }
    .card-title i { margin-right: 0.5rem; }
    .border-top-amber { border-top: 4px solid var(--accent-color); }
    .border-top-blue { border-top: 4px solid var(--primary-color); }
    .border-top-green { border-top: 4px solid var(--success); }
    
    /* Portfolio / Goals */
    .bg-gradient { background: linear-gradient(to right, #eff6ff, var(--white)); }
    .objective-card { text-align: center; }
    
    /* Footer */
    footer { background: var(--white); padding: 2rem 0; border-top: 1px solid var(--bg-darker); margin-top: 2rem; text-align: center; color: var(--text-light); }

    /* LOADER & PRELOADER */
    #loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #ffffff !important;
      z-index: 2147483647; /* Max Z-Index */
      display: flex;
      justify-content: center;
      align-items: center;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }
    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(29, 78, 216, 0.2);
      border-left-color: #1d4ed8;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    
    /* Social Icons - Official Brand Colors */
    .social-icon-instagram {
      background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
      display: inline-block;
    }
    .social-icon-telegram {
      color: #24A1DE;
    }
    .social-icon-tiktok {
      color: #000000;
      text-shadow: 2px 2px 0px #FE2C55, -2px -2px 0px #25F4EE;
    }

    /* Social Icons Sizing & Animation Utilities */
    .text-6xl { font-size: 3.75rem; line-height: 1; }
    .text-7xl { font-size: 4.5rem; line-height: 1; }
    .transition-transform { transition: transform 300ms cubic-bezier(0.4, 0, 0.2, 1); }
    .hover-scale-125:hover { transform: scale(1.25); }

    /* CLEANED UP: No more body.loading dependency */
    /* Content hiding is now handled by inline styles on #content-wrapper */

    /* Fade In Animation */
    .fade-in-section {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 1s ease-out, transform 1s ease-out;
      will-change: opacity, transform;
    }
    .fade-in-section.is-visible {
      opacity: 1;
      transform: none;
    }

    /* Voice Chat Widget */
    #voice-chat-widget {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      font-family: var(--font-family);
    }
    .vc-toggle-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--primary-color);
      color: white;
      border: none;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      cursor: pointer;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s;
    }
    .vc-toggle-btn:hover {
      transform: scale(1.1);
    }
    #vc-content {
      position: absolute;
      bottom: 80px;
      right: 0;
      width: 300px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      border: 1px solid #e5e7eb;
    }
    #vc-content.hidden {
      display: none;
    }
    .vc-header {
      background: var(--primary-color);
      color: white;
      padding: 12px;
      font-weight: bold;
      text-align: center;
    }
    .vc-body {
      padding: 16px;
      max-height: 400px;
      overflow-y: auto;
    }
    .vc-input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
    }
    .vc-btn {
      width: 100%;
      padding: 8px;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 5px;
    }
    .vc-btn:hover {
      background: var(--primary-hover);
    }
    .vc-btn-outline {
      background: transparent;
      color: var(--primary-color);
      border: 1px solid var(--primary-color);
    }
    .vc-user-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px;
      border-bottom: 1px solid #f3f4f6;
    }
    .vc-call-btn {
      background: #10b981;
      color: white;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    /* Modal */
    #vc-call-modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    #vc-call-modal.hidden {
      display: none;
    }
    .vc-modal-content {
      background: white;
      padding: 24px;
      border-radius: 12px;
      text-align: center;
      width: 90%;
      max-width: 320px;
    }
    .vc-modal-actions {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-top: 20px;
    }
    .vc-btn-accept {
      background: #10b981;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
    .vc-btn-reject {
      background: #ef4444;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <div id="loader" style="opacity: 1; visibility: visible;">
    <div class="spinner"></div>
  </div>

  <!-- WRAPPER: Inline style guarantees hidden content (Nuclear Option) -->
  <div id="content-wrapper" style="opacity: 0; visibility: hidden; transition: opacity 0.8s ease;">
  
   <!-- Navigation -->
   <nav id="main-nav" class="navbar">
     <div class="nav-container">
       <a href="#hero" class="nav-logo">Emiliia Lebedeva</a>
       <button class="nav-toggle" aria-label="Menu" id="mobile-menu-btn">
         <i class="fas fa-bars"></i>
       </button>
       <div class="nav-menu">
      <a href="#about" class="nav-link">Profile</a>
      <a href="#services" class="nav-link">Achievements</a>
      <a href="#portfolio" class="nav-link">Goals</a>
      <a href="#skills" class="nav-link">Skills</a>
      <a href="#contacts" class="nav-link">Contact</a>
    </div>
    </div>
    
    <!-- Mobile Menu (Moved inside nav for correct absolute positioning) -->
    <div id="mobile-menu" class="mobile-menu">
       <a href="#about" class="mobile-link">Profile</a>
       <a href="#services" class="mobile-link">Achievements</a>
       <a href="#portfolio" class="mobile-link">Goals</a>
       <a href="#skills" class="mobile-link">Skills</a>
       <a href="#contacts" class="mobile-link">Contact</a>
    </div>
  </nav>
  
  <div id="mobile-overlay" class="mobile-overlay"></div>
 
   <main>
   <!-- Hero Section -->
   <section id="hero" class="hero">
     <div class="container hero-wrapper">
       <div class="hero-content">
         <h1>Emiliia Lebedeva</h1>
         <p class="hero-subtitle">
           Rhythmic Gymnast • Master of Sport • Research Student
         </p>
         <p class="hero-text">
           Balancing elite athletic performance with academic excellence | Scholarship Candidate for Universities
         </p>
         <a href="#portfolio" class="btn">
           <i class="fa-regular fa-file-lines"></i> View Athletic & Academic Portfolio
         </a>
       </div>
       <div class="hero-image">
         <img src="Foto/portrait.jpg" alt="Emiliia Lebedeva" width="600" height="700" class="fade-in-section">
       </div>
     </div>
   </section>

  <!-- About Section -->
  <section id="about" class="section">
    <div class="container grid grid-2">
      <div class="flex flex-col about-col">
        <h2 class="section-title">
          <i class="fa-solid fa-medal text-amber"></i>Athletic Profile
        </h2>
        <ul class="list-check">
          <li><strong class="text-blue">Russian Master of Sport</strong> in Rhythmic Gymnastics</li>
          <li><strong>5-time Moscow Champion</strong> (Club Division, 2020–2024)</li>
          <li><strong>Multiple winner</strong> of All-Russian competitions</li>
          <li>Training: 25+ hours weekly in Moscow</li>
          <li>Born: December 22, 2008, Ufa, Russia</li>
        </ul>
        <img src="Foto/competition.jpg" alt="Competition" class="mt-6 rounded-xl shadow-md mt-auto fade-in-section">
      </div>
      <div class="flex flex-col about-col">
        <h2 class="section-title">
          <i class="fa-solid fa-flask text-blue"></i>Academic & Research Profile
        </h2>
        <ul class="list-check">
          <li>Active participant in subject Olympiads (Math, Biology, Ecology)</li>
          <li>Completed experimental course in <strong class="text-blue">Ecology</strong> with laboratory focus</li>
          <li>Author of research project: <em>"Microbiological Air Quality Control in Indoor Environments"</em></li>
          <li>Skills: Scientific writing, data analysis, experimental design</li>
        </ul>
        <img src="Foto/laboratory.jpg" alt="Laboratory" class="mt-6 rounded-xl shadow-md mt-auto fade-in-section">
      </div>
    </div>
  </section>

  <!-- Services (Achievements) -->
  <section id="services" class="section bg-light">
    <div class="container">
    <h2 class="section-title center">Key Achievements</h2>
    <div class="grid grid-3">
      <div class="card border-top-amber">
        <h3 class="card-title">
          <i class="fa-solid fa-trophy text-amber"></i>Athletic Excellence
        </h3>
        <p>Master of Sport title – Russia's official recognition of elite athletic achievement</p>
      </div>
      <div class="card border-top-blue">
        <h3 class="card-title">
          <i class="fa-solid fa-vials text-blue"></i>Research Experience
        </h3>
        <p>Designed and defended original microbiological research project at 15</p>
      </div>
      <div class="card border-top-green">
        <h3 class="card-title">
          <i class="fa-solid fa-scale-balanced text-green"></i>Balance & Discipline
        </h3>
        <p>Maintaining top-tier athletic training alongside rigorous academic schedule</p>
      </div>
    </div>
    </div>
  </section>

  <!-- Portfolio (Goals) -->
  <section id="portfolio" class="section bg-gradient">
    <div class="container">
    <h2 class="section-title center">
      <i class="fa-solid fa-bullseye text-blue"></i>University & Career Objectives
    </h2>
    <div class="text-center mb-8">
      <p class="hero-text">I seek to combine my athletic discipline with scientific curiosity in a university environment.</p>
    </div>
    <div class="grid grid-3 text-center mb-8">
      <div class="card objective-card">
        <strong class="text-blue block mb-2">Environmental Science</strong> Building on my ecology research
      </div>
      <div class="card objective-card">
        <strong class="text-blue block mb-2">Sports Science</strong> Applying firsthand athletic experience
      </div>
      <div class="card objective-card">
        <strong class="text-blue block mb-2">Biology</strong> Deepening laboratory research skills
      </div>
    </div>
    <p class="text-center mt-8">As a scholarship candidate, I offer: unique perspective as athlete-researcher, proven time management, and commitment to university community.</p>
    </div>
  </section>

  <!-- Skills -->
  <section id="skills" class="section">
    <div class="container">
    <h2 class="section-title center">
      <i class="fa-regular fa-lightbulb text-amber"></i>Transferable Skills
    </h2>
    <div class="grid grid-4">
      <div class="card text-center">
        <h3 class="font-bold mb-2">Discipline & Time Management</h3>
        <p class="text-sm text-light">25+ hours weekly training + academics</p>
      </div>
      <div class="card text-center">
        <h3 class="font-bold mb-2">Resilience & Performance</h3>
        <p class="text-sm text-light">Competing under pressure at national level</p>
      </div>
      <div class="card text-center">
        <h3 class="font-bold mb-2">Research & Analysis</h3>
        <p class="text-sm text-light">From lab experiments to performance analytics</p>
      </div>
      <div class="card text-center">
        <h3 class="font-bold mb-2">Leadership & Teamwork</h3>
        <p class="text-sm text-light">Club leadership, mentoring, collaboration</p>
      </div>
    </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contacts" class="section bg-light">
    <div class="container">
      <h2 class="section-title center">Contact</h2>
      <div class="flex flex-col items-center text-center">
        <h3 class="text-2xl font-bold mb-6">For University Inquiries</h3>
        <p class="font-semibold text-xl mb-4">Email: <a href="mailto:dido@keemail.me" class="text-blue hover:underline">dido@keemail.me</a></p>
        <p class="mb-4">
          <strong>Preferred contact method:</strong>
          <span class="inline-block ml-2 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full">
            <i class="fa-solid fa-envelope-circle-check mr-1"></i>Direct email
          </span>
        </p>
        <p class="mt-2 text-lg">Competition videos and academic transcript available upon request.</p>
        
        <div class="mt-10">
          <h4 class="font-bold mb-6 text-xl">Training & Competition Media</h4>
          <div class="flex gap-8 text-7xl justify-center">
            <a href="https://www.instagram.com/emiliiaswan?igsh=aG44OHZoZHowcThh&utm_source=qr" target="_blank" class="social-icon-instagram hover-scale-125 transition-transform" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://t.me/EmiliiaSwan" target="_blank" class="social-icon-telegram hover-scale-125 transition-transform" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
            <a href="https://www.tiktok.com/@emiliiaswan?_r=1&_t=ZS-93CH3szChUr" target="_blank" class="social-icon-tiktok hover-scale-125 transition-transform" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
          </div>
        </div>
      </div>
    </div>
  </section>

  </main>

  <footer>
    <div class="container">
      <div class="flex flex-col items-center gap-4">
        <div class="flex gap-6 text-6xl">
           <a href="https://www.instagram.com/emiliiaswan?igsh=aG44OHZoZHowcThh&utm_source=qr" target="_blank" class="social-icon-instagram hover-scale-125 transition-transform" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
           <a href="https://t.me/EmiliiaSwan" target="_blank" class="social-icon-telegram hover-scale-125 transition-transform" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
           <a href="https://www.tiktok.com/@emiliiaswan?_r=1&_t=ZS-93CH3szChUr" target="_blank" class="social-icon-tiktok hover-scale-125 transition-transform" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
        </div>
        <div>
           <p>&copy; 2024 Emiliia Lebedeva. All rights reserved.</p>
           <p class="text-sm mt-2">Designed for University Applications</p>
        </div>
      </div>
    </div>
  </footer>
  </div> <!-- /content-wrapper -->

  <script src="script.js"></script>
  
  <!-- Font Awesome (Moved to bottom to prevent blocking) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <script>
    // Reveal the site only when everything is ready
    window.addEventListener('load', function() {
      const loader = document.getElementById('loader');
      const content = document.getElementById('content-wrapper');
      
      // Extended display time
      setTimeout(() => {
        // 1. Hide Loader
        if (loader) {
          loader.style.opacity = '0';
          loader.style.visibility = 'hidden';
        }
        
        // 2. Show Content
        if (content) {
          content.style.visibility = 'visible';
          content.style.opacity = '1';
        }
      }, 800);
    });
    
    // Force cleanup of any old Service Workers that might be caching the site
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(function(registrations) {
        for(let registration of registrations) {
          registration.unregister();
          console.log('Old Service Worker unregistered');
        }
      });
    }
  </script>
  <!-- Voice Chat Widget -->
  <div id="voice-chat-widget">
    <div id="vc-content" class="hidden">
      <div class="vc-header">Voice Chat</div>
      <div class="vc-body">
        
        <!-- Login Panel -->
        <div id="vc-login-panel">
          <input type="email" id="vc-email" class="vc-input" placeholder="Email">
          <input type="password" id="vc-password" class="vc-input" placeholder="Password">
          <button id="vc-login-btn" class="vc-btn">Log In</button>
          <button id="vc-register-btn" class="vc-btn vc-btn-outline">Register</button>
        </div>

        <!-- Users Panel -->
        <div id="vc-users-panel" class="hidden">
          <h4 class="mb-2 font-bold text-sm">Online Users</h4>
          <ul id="vc-users-list">
            <!-- Users will appear here -->
          </ul>
          
          <!-- Chat Area -->
          <div id="vc-chat-area" style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 10px;">
            <h4 class="mb-2 font-bold text-sm">Lobby Chat</h4>
            <div id="vc-chat-messages" style="height: 100px; overflow-y: auto; background: #f9f9f9; padding: 5px; border-radius: 4px; border: 1px solid #ddd; margin-bottom: 5px;"></div>
            <div style="display: flex; gap: 5px;">
              <input type="text" id="vc-chat-input" class="vc-input" style="margin-bottom: 0;" placeholder="Message...">
              <button id="vc-chat-send-btn" class="vc-btn" style="width: auto; margin-bottom: 0;">Send</button>
            </div>
          </div>

          <button id="vc-logout-btn" class="vc-btn vc-btn-outline mt-4">Выйти</button>
        </div>

        <!-- Active Call Controls -->
        <div id="vc-active-call-controls" class="hidden mt-4 pt-4 border-t">
          <p class="text-center mb-2 font-bold text-green-600">Call Active</p>
          <button id="vc-end-call" class="vc-btn" style="background: #ef4444;">End Call</button>
        </div>

      </div>
    </div>
    <button id="vc-toggle-btn" class="vc-toggle-btn">
      <i class="fa-solid fa-headset"></i>
    </button>
  </div>

  <!-- Incoming Call Modal -->
  <div id="vc-call-modal" class="hidden">
    <div class="vc-modal-content">
      <h3 class="text-lg font-bold mb-2">Incoming Call</h3>
      <p id="vc-incoming-name" class="mb-4">Unknown User</p>
      <div class="vc-modal-actions">
        <button id="vc-reject-call" class="vc-btn-reject"><i class="fa-solid fa-phone-slash"></i> Reject</button>
        <button id="vc-accept-call" class="vc-btn-accept"><i class="fa-solid fa-phone"></i> Accept</button>
      </div>
    </div>
  </div>

  <!-- Hidden Remote Audio for iOS -->
  <audio id="remote-audio" autoplay playsinline style="display: none;"></audio>

  <!-- PeerJS -->
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
  <!-- Main Logic -->
  <script type="module" src="voice-chat.js"></script>
</body>
</html>
