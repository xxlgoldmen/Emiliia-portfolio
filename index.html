<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Emiliia Lebedeva | Rhythmic Gymnast & Research Student</title>
  
  <meta name="description" content="Athletic and academic portfolio of Emiliia Lebedeva, Rhythmic Gymnast and Research Student.">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  
  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <link rel="shortcut icon" href="images/favicon.ico">
  <meta name="theme-color" content="#1d4ed8">
  
  <style>
    /* CRITICAL CSS INLINED FOR 0ms FOUC */
    :root {
      --primary-color: #1d4ed8; /* blue-700 */
      --primary-hover: #1e40af; /* blue-800 */
      --accent-color: #f59e0b; /* amber-500 */
      --text-dark: #111827; /* gray-900 */
      --text-medium: #374151; /* gray-700 */
      --text-light: #6b7280; /* gray-500 */
      --bg-light: #f9fafb; /* gray-50 */
      --bg-darker: #f3f4f6; /* gray-100 */
      --white: #ffffff;
      --success: #16a34a; /* green-600 */
      --error: #ef4444; /* red-500 */
      --border-radius: 0.75rem; /* rounded-xl */
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    
    /* Reset & Base */
    *, *::before, *::after { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: var(--font-family);
      background-color: var(--bg-darker);
      color: var(--text-dark);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      /* Ensure body is hidden until styles are parsed if JS fails, though style tag blocks rendering */
    }
    img { max-width: 100%; height: auto; display: block; }
    h1, h2, h3, h4, h5, h6 { margin: 0; line-height: 1.2; }
    ul { list-style: none; padding: 0; margin: 0; }
    a { text-decoration: none; color: inherit; }
    
    /* Layout Utilities */
    .container { max-width: 80rem; margin: 0 auto; padding: 0 1rem; }
    .section { padding: 4rem 0; }
    .grid { display: grid; gap: 1.5rem; }
    .grid-2 { grid-template-columns: 1fr; }
    .grid-3 { grid-template-columns: 1fr; }
    .grid-4 { grid-template-columns: 1fr; }
    @media (min-width: 768px) {
      .grid-2 { grid-template-columns: 1fr 1fr; }
      .grid-3 { grid-template-columns: repeat(3, 1fr); }
      .grid-4 { grid-template-columns: repeat(2, 1fr); }
    }
    @media (min-width: 1024px) {
      .grid-4 { grid-template-columns: repeat(4, 1fr); }
    }
    .flex { display: flex; }
    .flex-col { flex-direction: column; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .justify-between { justify-content: space-between; }
    .gap-4 { gap: 1rem; }
    .gap-6 { gap: 1.5rem; }
    .gap-8 { gap: 2rem; }
    .gap-12 { gap: 3rem; }
    .text-center { text-align: center; }
    .text-light { color: var(--text-light); }
    .bg-light { background-color: var(--bg-light); }
    .mt-2 { margin-top: 0.5rem; }
    .mt-3 { margin-top: 0.75rem; }
    .mt-4 { margin-top: 1rem; }
    .mt-6 { margin-top: 1.5rem; }
    .mt-8 { margin-top: 2rem; }
    .mt-auto { margin-top: auto; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-3 { margin-bottom: 0.75rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-6 { margin-bottom: 1.5rem; }
    .mb-8 { margin-bottom: 2rem; }
    .mr-1 { margin-right: 0.25rem; }
    .mr-2 { margin-right: 0.5rem; }
    .mr-3 { margin-right: 0.75rem; }
    .w-full { width: 100%; }
    .rounded-xl { border-radius: var(--border-radius); }
    .shadow-md { box-shadow: var(--shadow); }
    .space-y-1 > * + * { margin-top: 0.25rem; }
    .space-y-4 > * + * { margin-top: 1rem; }
    
    /* Navigation */
    .navbar { background: var(--white); box-shadow: 0 1px 3px rgba(0,0,0,0.1); position: relative; z-index: 50; }
    .nav-container { display: flex; justify-content: space-between; align-items: center; padding: 1rem; max-width: 80rem; margin: 0 auto; }
    .nav-logo { font-size: 1.25rem; font-weight: 600; color: var(--text-dark); }
    .nav-toggle { display: block; background: none; border: none; font-size: 1.25rem; color: var(--text-light); cursor: pointer; }
    .nav-menu { display: none; gap: 1rem; }
    .nav-link { color: var(--text-light); padding: 0.75rem 0.5rem; border-radius: 0.375rem; transition: all 0.2s; }
    .nav-link:hover { color: var(--text-dark); background: var(--bg-light); }
    @media (min-width: 768px) { .nav-toggle { display: none; } .nav-menu { display: flex; } }
    
    /* Mobile Menu */
    .mobile-menu { display: none; position: absolute; top: 100%; left: 0; width: 100%; background: var(--white); border-top: 1px solid var(--bg-darker); box-shadow: var(--shadow); z-index: 49; flex-direction: column; padding: 0.5rem 1rem; }
    .mobile-menu.is-open { display: flex; }
    .mobile-link { display: block; padding: 0.75rem 0.5rem; color: var(--text-light); border-radius: 0.375rem; }
    .mobile-link:hover { color: var(--text-dark); background: var(--bg-light); }
    .mobile-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 40; }
    .mobile-overlay.is-open { display: block; }
    
    /* Hero Section */
    .hero { background: linear-gradient(to right, #dbeafe, var(--white)); padding: 4rem 1rem; }
    .hero-content { display: flex; flex-direction: column; gap: 2rem; }
    .hero h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; }
    .hero-subtitle { font-size: 1.25rem; color: var(--primary-color); font-weight: 600; margin-bottom: 1rem; }
    .hero-text { font-size: 1.125rem; color: var(--text-medium); margin-bottom: 2rem; }
    /* Updated BTN: Flex for perfect centering */
    .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; background: var(--primary-color); color: var(--white); padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; transition: background 0.2s; cursor: pointer; border: none; text-align: center; }
    .btn:hover { background: var(--primary-hover); }
    .btn:disabled { background: var(--text-light); cursor: not-allowed; }
    .hero-image img { border-radius: 0.75rem; box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1); width: 100%; }
    @media (min-width: 768px) {
      .hero-wrapper { display: flex; align-items: center; gap: 3rem; }
      /* Updated Hero Content: Centered vertically and horizontally relative to its column */
      .hero-content { flex: 1; align-items: center; text-align: center; justify-content: center; }
      .hero-image { flex: 1; }
    }
    
    /* Sections */
    .section-title { font-size: 1.875rem; font-weight: 700; margin-bottom: 2rem; display: flex; align-items: center; color: var(--text-dark); }
    .section-title.center { justify-content: center; }
    .section-title i { margin-right: 0.75rem; }
    
    /* About / Profile */
    .list-check { display: flex; flex-direction: column; gap: 1rem; }
    .list-check li { position: relative; }
    /* Ensure columns in About grid stretch to equal height */
    .about-col { display: flex; flex-direction: column; height: 100%; }
    .text-blue { color: var(--primary-color); }
    .text-amber { color: var(--accent-color); }
    .text-green { color: var(--success); }
    
    /* Cards */
    .card { background: var(--white); padding: 1.5rem; border-radius: var(--border-radius); box-shadow: var(--shadow); height: 100%; }
    .card-title { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.75rem; display: flex; align-items: center; color: var(--text-dark); }
    .card-title i { margin-right: 0.5rem; }
    .border-top-amber { border-top: 4px solid var(--accent-color); }
    .border-top-blue { border-top: 4px solid var(--primary-color); }
    .border-top-green { border-top: 4px solid var(--success); }
    
    /* Portfolio / Goals */
    .bg-gradient { background: linear-gradient(to right, #eff6ff, var(--white)); }
    .objective-card { text-align: center; }
    
    /* Footer */
    footer { background: var(--white); padding: 2rem 0; border-top: 1px solid var(--bg-darker); margin-top: 2rem; text-align: center; color: var(--text-light); }

    /* LOADER & PRELOADER */
    #loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #ffffff !important;
      z-index: 2147483647; /* Max Z-Index */
      display: flex;
      justify-content: center;
      align-items: center;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }
    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(29, 78, 216, 0.2);
      border-left-color: #1d4ed8;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    
    /* Social Icons - Official Brand Colors */
    .social-icon-instagram {
      background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
      display: inline-block;
    }
    .social-icon-telegram {
      color: #24A1DE;
    }
    .social-icon-tiktok {
      color: #000000;
      text-shadow: 2px 2px 0px #FE2C55, -2px -2px 0px #25F4EE;
    }

    /* Social Icons Sizing & Animation Utilities */
    .text-6xl { font-size: 3.75rem; line-height: 1; }
    .text-7xl { font-size: 4.5rem; line-height: 1; }
    .transition-transform { transition: transform 300ms cubic-bezier(0.4, 0, 0.2, 1); }
    .hover-scale-125:hover { transform: scale(1.25); }

    /* CLEANED UP: No more body.loading dependency */
    /* Content hiding is now handled by inline styles on #content-wrapper */

    /* Fade In Animation */
    .fade-in-section {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 1s ease-out, transform 1s ease-out;
      will-change: opacity, transform;
    }
    .fade-in-section.is-visible {
      opacity: 1;
      transform: none;
    }

    /* Voice Chat Widget Styles - Telegram Theme */
    #chat-widget-container { 
      position: fixed; 
      bottom: calc(20px + env(safe-area-inset-bottom)); 
      right: 20px; 
      z-index: 9999; 
      font-family: var(--font-family); 
    }
    
    #chat-toggle-btn { 
      background: linear-gradient(135deg, #60a5fa, #3730a3); /* light blue to indigo */
      color: var(--white); 
      border: none; 
      border-radius: 50%; 
      width: 60px; 
      height: 60px; 
      cursor: pointer; 
      font-size: 24px; 
      box-shadow: 0 4px 15px rgba(55, 48, 163, 0.4), 0 0 20px rgba(96, 165, 250, 0.6); /* Neon glow */
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      position: relative;
    }
    
    #chat-toggle-btn:hover { 
      transform: translateY(-5px) scale(1.05); 
      box-shadow: 0 8px 25px rgba(55, 48, 163, 0.5), 0 0 30px rgba(96, 165, 250, 0.8);
      filter: brightness(1.1);
    }

    #chat-toggle-btn.has-notification {
      animation: pulse-glow 2s infinite;
    }

    #chat-toggle-btn.has-notification::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.7);
      animation: pulse-ring 2s infinite;
      z-index: -1;
    }
    
    #chat-toggle-btn.has-notification::before {
      content: '';
      position: absolute;
      top: -5px;
      right: -5px;
      width: 12px;
      height: 12px;
      background-color: #ef4444; /* red-500 */
      border: 2px solid #fff;
      border-radius: 50%;
      z-index: 10;
    }

    @keyframes pulse-ring {
      0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.7); }
      70% { transform: scale(1.6); box-shadow: 0 0 0 20px rgba(96, 165, 250, 0); }
      100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(96, 165, 250, 0); }
    }
    
    @keyframes pulse-glow {
      0% { box-shadow: 0 4px 15px rgba(55, 48, 163, 0.4), 0 0 20px rgba(96, 165, 250, 0.6); transform: scale(1); }
      50% { box-shadow: 0 4px 30px rgba(55, 48, 163, 0.6), 0 0 40px rgba(96, 165, 250, 0.8); transform: scale(1.05); }
      100% { box-shadow: 0 4px 15px rgba(55, 48, 163, 0.4), 0 0 20px rgba(96, 165, 250, 0.6); transform: scale(1); }
    }
    
    @keyframes bounce-once {
        0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
        40% {transform: translateY(-20px);}
        60% {transform: translateY(-10px);}
    }

    #chat-toggle-btn.bounce-once {
        animation: bounce-once 1s ease;
    }
    
    #chat-window { 
      display: flex; 
      background: rgba(255, 255, 255, 0.9); /* Semi-transparent for blur */
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      width: 360px; 
      height: 550px; 
      position: absolute; 
      bottom: 80px; 
      right: 0; 
      flex-direction: column; 
      border-radius: 16px; 
      box-shadow: 0 10px 40px rgba(0,0,0,0.15); 
      overflow: hidden; 
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px) scale(0.95);
      transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
      pointer-events: none;
      border: 1px solid rgba(0,0,0,0.1);
    }
    #chat-window.chat-visible { opacity: 0.9; visibility: visible; transform: translateY(0) scale(1); pointer-events: auto; }
    #chat-window.chat-visible:hover { opacity: 1; }

    /* Mobile Responsive Tweaks */
    /* Handled in main mobile query at bottom */

    /* Header */
    .chat-header { 
      background: #f8f9fa; 
      padding: 12px 15px; 
      border-bottom: 1px solid #eee; 
      display: flex; 
      justify-content: space-between; 
      align-items: center;
    }
    .header-left { display: flex; align-items: center; gap: 10px; }
    .chat-title { font-weight: 700; color: #111827; }
    
    .connection-status {
      display: flex;
      align-items: center;
      font-size: 0.75rem;
      color: #16a34a;
      font-weight: 500;
      background: rgba(22, 163, 74, 0.1);
      padding: 2px 8px;
      border-radius: 12px;
    }

    .status-dot {
      width: 6px;
      height: 6px;
      background-color: #16a34a;
      border-radius: 50%;
      margin-left: 6px;
      position: relative;
    }
    
    .status-dot::after {
      content: '';
      position: absolute;
      top: -3px;
      left: -3px;
      width: 12px;
      height: 12px;
      background-color: rgba(22, 163, 74, 0.4);
      border-radius: 50%;
      animation: pulse-dot 1.5s infinite;
      z-index: 0;
    }

    @keyframes pulse-dot {
      0% { transform: scale(0.5); opacity: 1; }
      100% { transform: scale(1.5); opacity: 0; }
    }
    
    .minimize-btn { background: none; border: none; cursor: pointer; color: #6b7280; font-size: 1.1rem; }

    /* Waiting Message */
    .waiting-message {
        text-align: center;
        font-size: 0.8rem;
        color: #6b7280;
        background: #f3f4f6;
        padding: 8px 15px;
        margin: 0 10px 5px 10px;
        border-radius: 8px;
        border: 1px dashed #d1d5db;
        display: none; /* Toggled by JS */
    }

    /* Auth UI */
    #auth-ui { padding: 20px; display: flex; flex-direction: column; gap: 10px; justify-content: center; flex: 1; background: #f0f2f5; }
    .chat-input-auth { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 10px; outline: none; font-size: 16px; }
    .auth-btn-primary { width: 100%; padding: 12px; background: var(--primary-color); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; transition: background 0.2s; font-size: 16px; }
    .auth-btn-primary:hover { background: var(--primary-hover); }

    /* App Content */
    #app-content { display: none; flex: 1; overflow: hidden; flex-direction: column; background: #fff; position: relative; }
    
    /* Users Strip (Online Now) */
    .users-strip { 
      padding: 10px 15px; 
      background: #fff; 
      border-bottom: 1px solid #f0f0f0; 
      display: flex; 
      gap: 15px; 
      overflow-x: auto; 
      scrollbar-width: none; /* Firefox */
      min-height: 90px;
    }
    .users-strip::-webkit-scrollbar { display: none; }
    
    .user-item { display: flex; flex-direction: column; align-items: center; min-width: 60px; cursor: pointer; position: relative; }
    .user-avatar { 
      width: 50px; 
      height: 50px; 
      background: linear-gradient(135deg, #60a5fa, #2563eb); 
      color: white; 
      border-radius: 50%; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      font-weight: bold; 
      font-size: 20px; 
      margin-bottom: 6px;
      position: relative;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .user-avatar.online::after {
      content: ''; position: absolute; bottom: 2px; right: 2px; width: 12px; height: 12px; 
      background: #22c55e; border: 2px solid #fff; border-radius: 50%;
    }
    .user-name { font-size: 11px; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 70px; color: var(--text-medium); }
    
    /* Call Button on Avatar */
    .user-call-btn {
      position: absolute;
      bottom: -2px;
      right: -2px;
      background: #fff;
      color: #00e676; /* Bright Green */
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.15);
      border: 2px solid #fff;
      transition: transform 0.2s;
      z-index: 2;
    }
    /* Expanded touch target for 44x44px min size */
    .user-call-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 44px;
      height: 44px;
      cursor: pointer;
    }
    .user-call-btn:hover { transform: scale(1.15); background: #00e676; color: #fff; }

    /* Chat Area */
    /* Chat Controls & Messages */
    .typing-indicator {
      font-size: 0.75rem;
      color: #6b7280;
      font-style: italic;
      padding: 4px 15px;
      min-height: 24px;
      display: flex;
      align-items: center;
      background: #fff;
      transition: opacity 0.3s ease;
    }

    /* Chat Area (Telegram Style) */
    #chat-messages { 
      flex: 1; 
      padding: 10px 15px; 
      overflow-y: auto; 
      display: flex; 
      flex-direction: column; 
      gap: 4px; /* Tighter gap like Telegram */
      background: #7da5c0; /* Telegram-ish background color */
      /* Optional: Add a subtle pattern if desired, but solid color is cleaner for now */
      background-image: linear-gradient(135deg, #7da5c0 0%, #6892b0 100%);
    }
    
    /* Message Bubbles */
    .message-bubble { 
      max-width: 75%; 
      padding: 6px 12px; 
      border-radius: 12px; 
      font-size: 15px; 
      line-height: 1.35; 
      position: relative; 
      word-wrap: break-word; 
      box-shadow: 0 1px 2px rgba(0,0,0,0.15);
      margin-bottom: 2px;
    }
    
    /* My Messages (Green) */
    .message-bubble.me { 
      align-self: flex-end; 
      background: #effdde; /* Telegram Light Green */
      color: #000; 
      border-bottom-right-radius: 2px; /* Slight tail effect */
    }
    
    /* Other Messages (White) */
    .message-bubble.other { 
      align-self: flex-start; 
      background: #fff; 
      color: #000; 
      border-bottom-left-radius: 2px; /* Slight tail effect */
    }
    
    .msg-meta { 
        display: flex; 
        justify-content: flex-end; 
        align-items: center; 
        gap: 4px; 
        margin-top: 2px; 
        font-size: 11px; 
        opacity: 0.6;
    }
    
    /* Green checks for 'me' */
    .message-bubble.me .msg-meta { color: #559c44; opacity: 1; }
    .message-bubble.other .msg-meta { color: #a0a0a0; }
    
    .msg-sender { 
        font-weight: 600; 
        color: #487298; /* Telegram Name Color */
        font-size: 13px; 
        margin-bottom: 2px; 
        display: block; 
    }
    
    .message-bubble.system {
      align-self: center;
      background: rgba(0,0,0,0.2);
      color: #fff;
      border: none;
      border-radius: 16px;
      font-size: 0.85rem;
      text-align: center;
      max-width: 90%;
      box-shadow: none;
      margin: 10px auto;
      text-shadow: 0 1px 1px rgba(0,0,0,0.2);
      padding: 5px 12px;
    }
    .message-bubble.system .msg-sender { display: none; }
    
    /* Input Area */
    .chat-controls { 
      padding: 8px; 
      background: #fff; 
      border-top: 1px solid #eee; 
      display: flex; 
      align-items: flex-end; /* Align bottom for multiline expansion support */
      gap: 8px; 
      /* Safe area handled by container padding if needed, or here */
      padding-bottom: calc(8px + env(safe-area-inset-bottom));
    }
    #msg-input { 
      flex: 1; 
      padding: 10px 15px; 
      border-radius: 20px;
      border: 1px solid #ddd;
      outline: none;
      min-height: 40px;
      max-height: 100px; /* Expandable if needed */
    }
    #msg-send-btn {
        width: 40px;
        height: 40px;
        flex: none; /* Prevent shrinking */
        border-radius: 50%;
        background: var(--primary-color);
        color: white;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.2s;
    }
    #msg-send-btn:hover { background: var(--primary-hover); }


    /* Call Notification Popup (Centered Overlay) */
    .call-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.8); /* Dark overlay */
      z-index: 10000;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease;
      backdrop-filter: blur(5px);
    }
    .call-popup.active { opacity: 1; visibility: visible; }
    
    .call-popup-card {
        background: white;
        padding: 25px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
        width: 90%;
        max-width: 320px;
        transform: scale(0.9);
        transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .call-popup.active .call-popup-card { transform: scale(1); }
    
    .call-info { display: flex; flex-direction: column; align-items: center; gap: 10px; }
    .call-avatar { 
        width: 80px; 
        height: 80px; 
        background: var(--accent-color); 
        color: white; 
        border-radius: 50%; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        font-size: 32px; 
        box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
        animation: pulse-ring 2s infinite;
    }
    .call-text-group { display: flex; flex-direction: column; align-items: center; text-align: center; }
    .call-name { font-weight: 700; font-size: 20px; color: #111827; }
    .call-status { font-size: 14px; color: #6b7280; margin-top: 4px; animation: pulse 1.5s infinite; }
    
    .call-actions { display: flex; gap: 20px; width: 100%; justify-content: center; }
    .btn-call-accept { 
        width: 60px; 
        height: 60px; 
        border-radius: 50%; 
        background: #22c55e; 
        color: white; 
        border: none; 
        cursor: pointer; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        font-size: 24px; 
        transition: transform 0.2s; 
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);
    }
    .btn-call-decline { 
        width: 60px; 
        height: 60px; 
        border-radius: 50%; 
        background: #ef4444; 
        color: white; 
        border: none; 
        cursor: pointer; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        font-size: 24px; 
        transition: transform 0.2s; 
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
    }
    .btn-call-accept:hover, .btn-call-decline:hover { transform: scale(1.1); }
    
    @keyframes pulse { 0% { opacity: 0.6; } 50% { opacity: 1; } 100% { opacity: 0.6; } }

    /* Mobile Responsive */
    @media (max-width: 480px) {
      /* Chat Widget Container: respect safe area */
      #chat-widget-container {
        right: 20px;
        bottom: calc(20px + env(safe-area-inset-bottom));
        z-index: 9999;
      }

      /* Chat Window: 90vw width, centered relative to screen */
      #chat-window {
        width: 90vw;
        height: 70vh;
        position: fixed; /* Fixed relative to viewport */
        bottom: calc(90px + env(safe-area-inset-bottom)); /* Above toggle button */
        right: 5vw;
        left: 5vw;
        border-radius: 16px;
        transform-origin: bottom center;
      }

      /* Ensure visible state handles transform correctly */
      #chat-window.chat-visible {
        transform: translateY(0) scale(1);
      }
    }
  </style>
</head>
<body>
  <div id="loader" style="opacity: 1; visibility: visible;">
    <div class="spinner"></div>
  </div>

  <!-- WRAPPER: Inline style guarantees hidden content (Nuclear Option) -->
  <div id="content-wrapper" style="opacity: 0; visibility: hidden; transition: opacity 0.8s ease;">
  
   <!-- Navigation -->
   <nav id="main-nav" class="navbar">
     <div class="nav-container">
       <a href="#hero" class="nav-logo">Emiliia Lebedeva</a>
       <button class="nav-toggle" aria-label="Menu" id="mobile-menu-btn">
         <i class="fas fa-bars"></i>
       </button>
       <div class="nav-menu">
      <a href="#about" class="nav-link">Profile</a>
      <a href="#services" class="nav-link">Achievements</a>
      <a href="#portfolio" class="nav-link">Goals</a>
      <a href="#skills" class="nav-link">Skills</a>
      <a href="#contacts" class="nav-link">Contact</a>
    </div>
    </div>
    
    <!-- Mobile Menu (Moved inside nav for correct absolute positioning) -->
    <div id="mobile-menu" class="mobile-menu">
       <a href="#about" class="mobile-link">Profile</a>
       <a href="#services" class="mobile-link">Achievements</a>
       <a href="#portfolio" class="mobile-link">Goals</a>
       <a href="#skills" class="mobile-link">Skills</a>
       <a href="#contacts" class="mobile-link">Contact</a>
    </div>
  </nav>
  
  <div id="mobile-overlay" class="mobile-overlay"></div>
 
   <main>
   <!-- Hero Section -->
   <section id="hero" class="hero">
     <div class="container hero-wrapper">
       <div class="hero-content">
         <h1>Emiliia Lebedeva</h1>
         <p class="hero-subtitle">
           Rhythmic Gymnast • Master of Sport • Research Student
         </p>
         <p class="hero-text">
           Balancing elite athletic performance with academic excellence | Scholarship Candidate for Universities
         </p>
         <a href="#portfolio" class="btn">
           <i class="fa-regular fa-file-lines"></i> View Athletic & Academic Portfolio
         </a>
       </div>
       <div class="hero-image">
         <img src="Foto/portrait.jpg" alt="Emiliia Lebedeva" width="600" height="700" class="fade-in-section">
       </div>
     </div>
   </section>

  <!-- About Section -->
  <section id="about" class="section">
    <div class="container grid grid-2">
      <div class="flex flex-col about-col">
        <h2 class="section-title">
          <i class="fa-solid fa-medal text-amber"></i>Athletic Profile
        </h2>
        <ul class="list-check">
          <li><strong class="text-blue">Russian Master of Sport</strong> in Rhythmic Gymnastics</li>
          <li><strong>5-time Moscow Champion</strong> (Club Division, 2020–2024)</li>
          <li><strong>Multiple winner</strong> of All-Russian competitions</li>
          <li>Training: 25+ hours weekly in Moscow</li>
          <li>Born: December 22, 2008, Ufa, Russia</li>
        </ul>
        <img src="Foto/competition.jpg" alt="Competition" class="mt-6 rounded-xl shadow-md mt-auto fade-in-section">
      </div>
      <div class="flex flex-col about-col">
        <h2 class="section-title">
          <i class="fa-solid fa-flask text-blue"></i>Academic & Research Profile
        </h2>
        <ul class="list-check">
          <li>Active participant in subject Olympiads (Math, Biology, Ecology)</li>
          <li>Completed experimental course in <strong class="text-blue">Ecology</strong> with laboratory focus</li>
          <li>Author of research project: <em>"Microbiological Air Quality Control in Indoor Environments"</em></li>
          <li>Skills: Scientific writing, data analysis, experimental design</li>
        </ul>
        <img src="Foto/laboratory.jpg" alt="Laboratory" class="mt-6 rounded-xl shadow-md mt-auto fade-in-section">
      </div>
    </div>
  </section>

  <!-- Services (Achievements) -->
  <section id="services" class="section bg-light">
    <div class="container">
    <h2 class="section-title center">Key Achievements</h2>
    <div class="grid grid-3">
      <div class="card border-top-amber">
        <h3 class="card-title">
          <i class="fa-solid fa-trophy text-amber"></i>Athletic Excellence
        </h3>
        <p>Master of Sport title – Russia's official recognition of elite athletic achievement</p>
      </div>
      <div class="card border-top-blue">
        <h3 class="card-title">
          <i class="fa-solid fa-vials text-blue"></i>Research Experience
        </h3>
        <p>Designed and defended original microbiological research project at 15</p>
      </div>
      <div class="card border-top-green">
        <h3 class="card-title">
          <i class="fa-solid fa-scale-balanced text-green"></i>Balance & Discipline
        </h3>
        <p>Maintaining top-tier athletic training alongside rigorous academic schedule</p>
      </div>
    </div>
    </div>
  </section>

  <!-- Portfolio (Goals) -->
  <section id="portfolio" class="section bg-gradient">
    <div class="container">
    <h2 class="section-title center">
      <i class="fa-solid fa-bullseye text-blue"></i>University & Career Objectives
    </h2>
    <div class="text-center mb-8">
      <p class="hero-text">I seek to combine my athletic discipline with scientific curiosity in a university environment.</p>
    </div>
    <div class="grid grid-3 text-center mb-8">
      <div class="card objective-card">
        <strong class="text-blue block mb-2">Environmental Science</strong> Building on my ecology research
      </div>
      <div class="card objective-card">
        <strong class="text-blue block mb-2">Sports Science</strong> Applying firsthand athletic experience
      </div>
      <div class="card objective-card">
        <strong class="text-blue block mb-2">Biology</strong> Deepening laboratory research skills
      </div>
    </div>
    <p class="text-center mt-8">As a scholarship candidate, I offer: unique perspective as athlete-researcher, proven time management, and commitment to university community.</p>
    </div>
  </section>

  <!-- Skills -->
  <section id="skills" class="section">
    <div class="container">
    <h2 class="section-title center">
      <i class="fa-regular fa-lightbulb text-amber"></i>Transferable Skills
    </h2>
    <div class="grid grid-4">
      <div class="card text-center">
        <h3 class="font-bold mb-2">Discipline & Time Management</h3>
        <p class="text-sm text-light">25+ hours weekly training + academics</p>
      </div>
      <div class="card text-center">
        <h3 class="font-bold mb-2">Resilience & Performance</h3>
        <p class="text-sm text-light">Competing under pressure at national level</p>
      </div>
      <div class="card text-center">
        <h3 class="font-bold mb-2">Research & Analysis</h3>
        <p class="text-sm text-light">From lab experiments to performance analytics</p>
      </div>
      <div class="card text-center">
        <h3 class="font-bold mb-2">Leadership & Teamwork</h3>
        <p class="text-sm text-light">Club leadership, mentoring, collaboration</p>
      </div>
    </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contacts" class="section bg-light">
    <div class="container">
      <h2 class="section-title center">Contact</h2>
      <div class="flex flex-col items-center text-center">
        <h3 class="text-2xl font-bold mb-6">For University Inquiries</h3>
        <p class="font-semibold text-xl mb-4">Email: <a href="mailto:dido@keemail.me" class="text-blue hover:underline">dido@keemail.me</a></p>
        <p class="mb-4">
          <strong>Preferred contact method:</strong>
          <span class="inline-block ml-2 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full">
            <i class="fa-solid fa-envelope-circle-check mr-1"></i>Direct email
          </span>
        </p>
        <p class="mt-2 text-lg">Competition videos and academic transcript available upon request.</p>
        
        <div class="mt-10">
          <h4 class="font-bold mb-6 text-xl">Training & Competition Media</h4>
          <div class="flex gap-8 text-7xl justify-center">
            <a href="https://www.instagram.com/emiliiaswan?igsh=aG44OHZoZHowcThh&utm_source=qr" target="_blank" class="social-icon-instagram hover-scale-125 transition-transform" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://t.me/EmiliiaSwan" target="_blank" class="social-icon-telegram hover-scale-125 transition-transform" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
            <a href="https://www.tiktok.com/@emiliiaswan?_r=1&_t=ZS-93CH3szChUr" target="_blank" class="social-icon-tiktok hover-scale-125 transition-transform" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
          </div>
        </div>
      </div>
    </div>
  </section>

  </main>

  <footer>
    <div class="container">
      <div class="flex flex-col items-center gap-4">
        <div class="flex gap-6 text-6xl">
           <a href="https://www.instagram.com/emiliiaswan?igsh=aG44OHZoZHowcThh&utm_source=qr" target="_blank" class="social-icon-instagram hover-scale-125 transition-transform" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
           <a href="https://t.me/EmiliiaSwan" target="_blank" class="social-icon-telegram hover-scale-125 transition-transform" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
           <a href="https://www.tiktok.com/@emiliiaswan?_r=1&_t=ZS-93CH3szChUr" target="_blank" class="social-icon-tiktok hover-scale-125 transition-transform" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
        </div>
        <div>
           <p>&copy; 2024 Emiliia Lebedeva. All rights reserved.</p>
           <p class="text-sm mt-2">Designed for University Applications</p>
        </div>
      </div>
    </div>
  </footer>
  </div> <!-- /content-wrapper -->

  <script src="script.js"></script>
  
  <!-- Font Awesome (Moved to bottom to prevent blocking) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <script>
    // Reveal the site only when everything is ready
    window.addEventListener('load', function() {
      const loader = document.getElementById('loader');
      const content = document.getElementById('content-wrapper');
      
      // Extended display time
      setTimeout(() => {
        // 1. Hide Loader
        if (loader) {
          loader.style.opacity = '0';
          loader.style.visibility = 'hidden';
        }
        
        // 2. Show Content
        if (content) {
          content.style.visibility = 'visible';
          content.style.opacity = '1';
        }
      }, 800);
    });
    
    // Force cleanup of any old Service Workers that might be caching the site
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(function(registrations) {
        for(let registration of registrations) {
          registration.unregister();
          console.log('Old Service Worker unregistered');
        }
      });
    }
  </script>
  <div id="chat-widget-container">
    <button id="chat-toggle-btn"><i class="fas fa-paper-plane"></i></button>
    
    <div id="chat-window"> 
      <!-- Header -->
      <div class="chat-header">
        <div class="header-left">
            <span class="chat-title">Чат с Эмилией</span>
            <div class="connection-status">
                Online <div class="status-dot"></div>
            </div>
        </div>
        <div class="header-controls" style="display: flex; align-items: center; gap: 8px;">
            <button id="logout-btn" class="minimize-btn" title="Выйти" style="display: none; color: #ef4444;">
                <i class="fas fa-sign-out-alt"></i>
            </button>
            <button id="clear-chat-btn" class="minimize-btn" title="Удалить все сообщения (для всех)">
                <i class="fas fa-trash-alt"></i>
            </button>
            <button id="chat-minimize-btn" class="minimize-btn"><i class="fas fa-minus"></i></button>
        </div>
      </div>
      
      <!-- Loader -->
      <div id="chat-loader-spinner" class="spinner" style="display: none; width: 30px; height: 30px; border-width: 3px; margin: 20px auto;"></div>

      <!-- Auth UI -->
      <div id="auth-ui"> 
          <!-- Login View -->
          <div id="auth-login-view" style="display: flex; flex-direction: column; gap: 10px; width: 100%;">
              <h3 style="text-align: center; margin-bottom: 5px;">Вход</h3>
              <p style="text-align: center; font-size: 0.85rem; color: #666; margin-bottom: 10px;">Введите email и пароль для входа</p>
              
              <input type="email" id="login-email" class="chat-input-auth" placeholder="Email" autocomplete="username">
              <input type="password" id="login-password" class="chat-input-auth" placeholder="Пароль" autocomplete="current-password">
              
              <button id="btn-do-login" class="auth-btn-primary">Войти</button>
              
              <div style="text-align: center; margin-top: 10px; font-size: 0.9rem;">
                  <span>Нет аккаунта? </span>
                  <button id="btn-show-register" style="background: none; border: none; color: var(--primary-color); font-weight: 600; cursor: pointer; padding: 0;">Регистрация</button>
              </div>
          </div>

          <!-- Register View -->
          <div id="auth-register-view" style="display: none; flex-direction: column; gap: 10px; width: 100%;">
              <h3 style="text-align: center; margin-bottom: 5px;">Регистрация</h3>
              <p style="text-align: center; font-size: 0.85rem; color: #666; margin-bottom: 10px;">Придумайте логин и пароль</p>
              
              <input type="text" id="reg-username" class="chat-input-auth" placeholder="Ваше имя (Никнейм)" maxlength="20" autocomplete="nickname">
              <input type="email" id="reg-email" class="chat-input-auth" placeholder="Email (можно вымышленный)" autocomplete="username">
              <input type="password" id="reg-password" class="chat-input-auth" placeholder="Пароль (минимум 6 символов)" autocomplete="new-password">
              
              <button id="btn-do-register" class="auth-btn-primary">Зарегистрироваться</button>
              
              <div style="text-align: center; margin-top: 10px; font-size: 0.9rem;">
                  <span>Есть аккаунт? </span>
                  <button id="btn-show-login" style="background: none; border: none; color: var(--primary-color); font-weight: 600; cursor: pointer; padding: 0;">Войти</button>
              </div>
          </div>
      </div> 
      
      <!-- App Content -->
      <div id="app-content">
        
        <!-- Online Users Strip -->
        <div id="users-strip" class="users-strip">
           <!-- User Items injected here -->
        </div>

        <!-- Chat Area -->
        <div id="chat-messages">
           <!-- Messages injected here -->
        </div>
        
        <!-- Typing Indicator -->
        <div id="typing-indicator" class="typing-indicator"></div>

        <!-- Waiting Message -->
        <div id="waiting-message" class="waiting-message">
            Сейчас в чате только вы. Как только кто-то зайдет, вы увидите его в списке выше.
        </div>

        <!-- Input Area -->
        <div class="chat-controls">
          <input type="text" id="msg-input" placeholder="Message...">
          <button id="msg-send-btn"><i class="fas fa-paper-plane"></i></button>
        </div>

      </div>
    </div>
  </div>

  <!-- Call Popup (Global Overlay) -->
  <div id="call-popup" class="call-popup">
     <div class="call-popup-card">
         <div class="call-info">
           <div class="call-avatar"><i class="fas fa-phone"></i></div>
           <div class="call-text-group">
             <span id="call-from-name" class="call-name">User</span>
             <span class="call-status">Входящий звонок...</span>
           </div>
         </div>
         <div class="call-actions">
           <button id="btn-decline" class="btn-call-decline"><i class="fas fa-phone-slash"></i></button>
           <button id="btn-accept" class="btn-call-accept"><i class="fas fa-phone"></i></button>
         </div>
     </div>
  </div>

  <script type="module" src="voice-chat.js"></script>
</body>
</html>
